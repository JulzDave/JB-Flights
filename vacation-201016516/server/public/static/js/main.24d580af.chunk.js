(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(21)},18:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),o=(a(18),a(6)),i=a.n(o),c=a(7),m=a(1),u=a(2),h=a(4),p=a(3),d=a(5),g=(a(8),a(9)),b=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"LoginCont"},s.a.createElement("div",{className:"Login"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",{className:"loghead"},"Login"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0User name: \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"text",name:"username",onChange:this.handler.bind(this),value:this.state.username})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0Password:\xa0 \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"password",name:"password",onChange:this.handler.bind(this),value:this.state.password})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"btn btn-warning btn-sign-in",onClick:this.loginBtn.bind(this)},"Sign In"),s.a.createElement("div",{className:"noAccount",onClick:this.prophasAccount.bind(this)},"I don't have an account"),s.a.createElement("div",{className:this.props.propstate.alert+" alert alert-danger alert-dismissible fade show",role:"alert"},s.a.createElement("strong",null,this.props.propstate.alertBoldTxt)," ",this.props.propstate.alertTxt,s.a.createElement("button",{type:"button",className:"close",onClick:this.alertOff.bind(this)},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))}},{key:"loginBtn",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)});case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).noUser?this.props.summonAlert("Error","The user name or password that you typed is incorrect"):this.props.isLogged(a[0].id,a[0].firstname,a[0].lastname,a[0].username,a[0].password,a[0].following);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handler",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"prophasAccount",value:function(){this.props.hasAccount()}},{key:"alertOff",value:function(){this.props.summonAlert("x")}}]),t}(n.Component),E=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("header",{className:"App"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},s.a.createElement("a",{className:"navbar-brand",href:"##"},s.a.createElement("font",{className:"logo"},s.a.createElement("font",{className:"darkorange"},"N"),"imbus",s.a.createElement("font",{className:"darkorange"},"ly"))),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"##"},"Home ",s.a.createElement("span",{className:"sr-only"},"(current)"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"##"},"Features")),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"##",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Dropdown link"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink"},s.a.createElement("a",{className:"dropdown-item",href:"##"},"Action"),s.a.createElement("a",{className:"dropdown-item",href:"##"},"Another action"),s.a.createElement("a",{className:"dropdown-item",href:"##"},"Something else here")))),s.a.createElement("ul",{className:this.props.propstate.door+" navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item exit",onClick:this.logOut.bind(this)},s.a.createElement("a",{className:"nav-link unpad",href:"##"},s.a.createElement("span",{role:"img","aria-label":"door"},"\ud83d\udeaa")))))))}},{key:"logOut",value:function(){this.props.logOut()}}]),t}(n.Component),f=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={firstname:"",lastname:"",regUsername:"",regPassword:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"LoginCont"},s.a.createElement("div",{className:"Login Register"},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",{className:"loghead"},"Register"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0Firstname: \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"text",name:"firstname",onChange:this.handler.bind(this),value:this.state.firstname})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0Lastname:\xa0 \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"text",name:"lastname",onChange:this.handler.bind(this),value:this.state.lastname})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0User name: \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"text",name:"regUsername",onChange:this.handler.bind(this),value:this.state.regUsername})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("span",{className:"loginfo"},"\xa0\xa0\xa0\xa0Password:\xa0 \xa0\xa0\xa0\xa0\xa0",s.a.createElement("input",{className:"logInput",type:"password",name:"regPassword",onChange:this.handler.bind(this),value:this.state.regPassword})),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("button",{type:"button",className:"btn btn-warning btn-sign-in",onClick:this.registerBtn.bind(this)},"Register"),s.a.createElement("div",{className:"noAccount",onClick:this.prophasAccount.bind(this)},"I already have an account"),s.a.createElement("div",{className:this.props.propstate.alert+" alert alert-danger alert-dismissible fade show",role:"alert"},s.a.createElement("strong",null,this.props.propstate.alertBoldTxt)," ",this.props.propstate.alertTxt,s.a.createElement("button",{type:"button",className:"close",onClick:this.alertOff.bind(this)},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")))))}},{key:"handler",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"prophasAccount",value:function(){this.props.hasAccount()}},{key:"registerBtn",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.firstname.length>1&&this.state.lastname.length>1&&this.state.regUsername.length>5&&this.state.regPassword.length>5)){e.next=10;break}return e.next=3,fetch("http://localhost:3000/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)});case 3:return t=e.sent,e.next=6,t.json();case 6:e.sent.taken?this.props.summonAlert("Error","User name "+this.state.regUsername+" already taken"):alert("thanks for registering "+this.state.firstname),e.next=11;break;case 10:this.state.regUsername.length<=5||this.state.regPassword.length<=5?this.props.summonAlert("Error","Make sure your User name And Password are at least 6 characters long"):this.props.summonAlert("Error","You must include a first and last name");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"alertOff",value:function(){this.props.summonAlert("x")}}]),t}(n.Component),v=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App "},s.a.createElement("div",{className:"card text-white text-center bg-primary mb-3 "},s.a.createElement("img",{className:"card-img-top",src:this.props.d.image,alt:this.props.d.destination}),s.a.createElement("div",{className:"card-header"},this.props.d.destination),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title"}," Departure: ",this.props.d.departure," | Arrival: ",this.props.d.arrival," ",s.a.createElement("br",null),s.a.createElement("font",{className:"priceTag"},"Price: ",this.props.d.price,"$")),s.a.createElement("p",{className:"card-text description"},this.props.d.description)),s.a.createElement("a",{href:"##",className:"btn btn-warning w-100 followBlink"},"Follow this deal")))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={hasAccount:!0,alert:"alertOff",alertBoldTxt:"",alertTxt:"",isLogged:0,deals:[],door:"hideIfNotLogged"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.deals()}},{key:"deals",value:function(){var e=Object(c.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3000/alldeals");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({deals:a});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.hasAccount&0===this.state.isLogged?s.a.createElement("div",{className:"App"},s.a.createElement(E,{logOut:this.logOut.bind(this),propstate:this.state}),s.a.createElement(b,{isLogged:this.isLogged.bind(this),summonAlert:this.summonAlert.bind(this),propstate:this.state,hasAccount:this.hasAccount.bind(this)})):!this.state.hasAccount&0===this.state.isLogged?s.a.createElement("div",{className:"App"},s.a.createElement(E,{logOut:this.logOut.bind(this),propstate:this.state}),s.a.createElement(f,{isLogged:this.isLogged.bind(this),summonAlert:this.summonAlert.bind(this),propstate:this.state,hasAccount:this.hasAccount.bind(this)})):0!==this.state.isLogged&&1!==this.state.isLogged?s.a.createElement("div",{className:"App"},s.a.createElement(E,{logOut:this.logOut.bind(this),propstate:this.state}),this.state.deals.map(function(e){return s.a.createElement(v,{key:e.id,d:e})})):1===this.state.isLogged?s.a.createElement("div",{className:"App"},s.a.createElement(E,{logOut:this.logOut.bind(this),propstate:this.state}),s.a.createElement("p",{className:"Adminhead"},"Admin Mode"),this.state.deals.map(function(e){return s.a.createElement(v,{key:e.id,d:e})})):void 0}},{key:"summonAlert",value:function(e,t,a){"x"===e?this.setState({alert:"alertOff",alertBoldTxt:"",alertTxt:""}):this.setState({alert:"alertOn",alertBoldTxt:e,alertTxt:t})}},{key:"hasAccount",value:function(){this.setState({hasAccount:!this.state.hasAccount})}},{key:"isLogged",value:function(e,t,a,n,s,r){this.setState({isLogged:e,door:"displayIfLogged"})}},{key:"logOut",value:function(){this.setState({isLogged:0,hasAccount:!0,door:"hideIfNotLogged"})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.24d580af.chunk.js.map